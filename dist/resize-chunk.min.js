(this.webpackChunkCoCreate=this.webpackChunkCoCreate||[]).push([[9803],{7879:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var s=i(366);const r=["mousemove touchmove","mousedown touchstart","mouseup touchend"],o=["left","right","top","bottom"],n={selector:"",resizers:[],resizeWidgets:[],init:function(t){for(var e in t)t.hasOwnProperty(e)&&"selector"==e&&(this.selector=t[e]);this.resizers=document.querySelectorAll(this.selector);var i=this;this.resizers.forEach((function(e,s){let r=new h(e,t);i.resizeWidgets[s]=r}))},initElement:function(t){let e=new h(t,{dragLeft:"[data-resize_handle='left']",dragRight:"[data-resize_handle='right']",dragTop:"[data-resize_handle='top']",dragBottom:"[data-resize_handle='bottom']"});this.resizeWidgets[0]=e}};function h(t,e){this.resizeWidget=t,this.cornerSize=10,this.init(e)}h.prototype={init:function(t){this.resizeWidget&&(this.initDrags=[],this.checkCorners=[],this.doDrags=[],this.Drags=[],o.map((e=>{this.Drags[e]=this.resizeWidget.querySelector(t["drag"+e.charAt(0).toUpperCase()+e.slice(1)])})),this.bindListeners(),this.initResize())},initResize:function(){o.map((t=>{this.Drags[t]&&this.addListenerMulti(this.Drags[t],r[0],this.checkCorners[t])}))},checkDragImplementation:function(t,e,i,s,o,n){t.touches&&(t=t.touches[0]),this.removeListenerMulti(this.Drags[e],r[1],this.initDrags[e]),this.removeListenerMulti(this.Drags[e],r[1],this.initDrags[i]),this.addListenerMulti(this.Drags[e],r[1],this.initDrags[e]),s<this.cornerSize&&this.Drags[i]?(this.Drags[e].style.cursor=o,this.addListenerMulti(this.Drags[e],r[1],this.initDrags[i])):this.Drags[e].style.cursor=n},initDrag:function(t,e){let i=document.defaultView.getComputedStyle(this.resizeWidget);this.processIframe(),"top"==e||"bottom"==e?(this.startTop=parseInt(i.top,10),this.startHeight=parseInt(i.height,10),t.touches?this.startY=t.touches[0].clientY:this.startY=t.clientY):(this.startLeft=parseInt(i.left,10),this.startWidth=parseInt(i.width,10),t.touches?this.startX=t.touches[0].clientX:this.startX=t.clientX),this.addListenerMulti(document.documentElement,r[0],this.doDrags[e]),this.addListenerMulti(document.documentElement,r[2],this.stopDrag)},initTopDrag:function(t){this.initDrag(t,"top")},initBottomDrag:function(t){this.initDrag(t,"bottom")},initLeftDrag:function(t){this.initDrag(t,"left")},initRightDrag:function(t){this.initDrag(t,"right")},doTopDrag:function(t){let e,i;t.touches&&(t=t.touches[0]),e=this.startTop+t.clientY-this.startY,i=this.startHeight-t.clientY+this.startY,e<10||i<10||(this.resizeWidget.style.top=e+"px",this.resizeWidget.style.height=i+"px")},doBottomDrag:function(t){let e=0;t.touches&&(t=t.touches[0]),e=this.startHeight+t.clientY-this.startY,e<10||(this.resizeWidget.style.height=e+"px")},doLeftDrag:function(t){let e,i;t.touches&&(t=t.touches[0]),e=this.startLeft+t.clientX-this.startX,i=this.startWidth-t.clientX+this.startX,i<10||(this.resizeWidget.style.left=e+"px",this.resizeWidget.style.width=i+"px")},doRightDrag:function(t){let e=0;t.touches&&(t=t.touches[0]),e=this.startWidth+t.clientX-this.startX,e<10||(this.resizeWidget.style.width=e+"px")},stopDrag:function(t){this.resizeWidget.querySelectorAll("iframe").forEach((function(t){t.style.pointerEvents=null})),o.map((t=>{this.removeListenerMulti(document.documentElement,r[0],this.doDrags[t])})),this.removeListenerMulti(document.documentElement,r[2],this.stopDrag)},checkLeftDragTopCorner:function(t){const e=t.clientY-this.getDistance(this.Drags.left,!0)+document.documentElement.scrollTop;this.checkDragImplementation(t,"left","top",e,"se-resize","e-resize")},checkTopDragRightCorner:function(t){const e=this.getDistance(this.Drags.right,!1)-t.clientX-document.documentElement.scrollLeft;this.checkDragImplementation(t,"top","right",e,"ne-resize","s-resize")},checkBottomDragLeftCorner:function(t){const e=t.clientX-this.getDistance(this.Drags.bottom,!1)+document.documentElement.scrollLeft;this.checkDragImplementation(t,"bottom","left",e,"ne-resize","s-resize")},checkRightDragBottomCorner:function(t){const e=this.getDistance(this.Drags.bottom,!0)-t.clientY-document.documentElement.scrollTop;this.checkDragImplementation(t,"right","bottom",e,"se-resize","e-resize")},bindListeners:function(){this.doDrags.left=this.doLeftDrag.bind(this),this.doDrags.top=this.doTopDrag.bind(this),this.doDrags.right=this.doRightDrag.bind(this),this.doDrags.bottom=this.doBottomDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.checkCorners.left=this.checkLeftDragTopCorner.bind(this),this.checkCorners.top=this.checkTopDragRightCorner.bind(this),this.checkCorners.bottom=this.checkBottomDragLeftCorner.bind(this),this.checkCorners.right=this.checkRightDragBottomCorner.bind(this),this.initDrags.top=this.initTopDrag.bind(this),this.initDrags.left=this.initLeftDrag.bind(this),this.initDrags.bottom=this.initBottomDrag.bind(this),this.initDrags.right=this.initRightDrag.bind(this)},getDistance:function(t,e){var i=0;if(t.offsetParent)do{i+=e?t.offsetTop:t.offsetLeft,t=t.offsetParent}while(t);return i>=0?i:0},addListenerMulti:function(t,e,i){for(var s=e.split(" "),r=0,o=s.length;r<o;r++)t.addEventListener(s[r],i,!1)},removeListenerMulti:function(t,e,i){for(var s=e.split(" "),r=0,o=s.length;r<o;r++)t.removeEventListener(s[r],i,!1)},processIframe:function(){this.resizeWidget.querySelectorAll("iframe").forEach((function(t){t.style.pointerEvents="none"}))}},s.default.init({name:"CoCreateResize",observe:["subtree","childList"],include:".resize",callback:function(t){n.initElement(t.target)}}),n.init({selector:".resize",dragLeft:"[data-resize='left']",dragRight:"[data-resize='right']",dragTop:"[data-resize='top']",dragBottom:"[data-resize='bottom']"});const a=n}}]);
(this.webpackChunkCoCreate=this.webpackChunkCoCreate||[]).push([[246],{2671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(366);function r({realDom:e,virtualDom:t,ignore:a}){this.render=function(e,t=0,n){for(let r of e){if(r.matches(a))continue;let e=this.createVirtualElement({element:r});n.append(e),r.children.length&&this.render(r.children,t+1,e)}},this.renderNew=function(e,t=0,n){let r;for(let i of e)i.matches(a)||(r=this.createVirtualElement({element:i}),i.children.length&&this.renderNew(i.children,t+1,r),n&&n.append(r));return r},this.createVirtualElement=function({options:e,element:t}){let a=document.createElement("div"),n=t.getAttribute("data-name"),r=n||t.tagName,i=t.children.length;a.classList.add("vdom-item"),t.children.length&&a.classList.add("parent");let l=document.createElement("div");l.setAttribute("data-exclude","true");let d=t.getAttribute("data-element_id");a.setAttribute("data-element_id",d),a.setAttribute("data-draggable","true"),a.setAttribute("data-droppable","true");let s,c=document.createElement("span");c.classList.add("element-name"),c.innerHTML=r;let o=this.createFAIcon({name:"fa-eye",event:{click:e=>{"none"==t.style.display?(t.style.display=s,a.classList.remove("layer-hidden")):(s=t.style.display,t.style.display="none",a.classList.add("layer-hidden"))}}}),m=this.createFAIcon({name:"fa-arrows-alt"});if(l.append(o),i){let e=this.createFAIcon({name:"fa-caret-down"}),t=document.createElement("span");t.insertAdjacentElement("afterbegin",e),t.classList.add("icon-container"),l.append(t),e.setAttribute("data-toggle","collapse"),e.setAttribute("data-toggle_closest",".vdom-item"),e.setAttribute("data-transform_to","fa fa-caret-right")}return l.append(c),l.append(m),a.append(l),a},this.createFAIcon=function({name:e,event:t}){let a=document.createElement("i");if(a.classList.add("fa"),a.classList.add(e),t){let e=Object.keys(t)[0],n=t[e];a.addEventListener(e,n)}return a},this.render([e],0,t)}const i={initVdom:function({realdom:e,virtualDom:t,ignore:a}){let i=new r({realDom:e,virtualDom:t,ignore:a});e.ownerDocument.defaultView;return n.default.init({name:"vdom",exclude:".vdom-item",observe:["childList"],callback:e=>{e.removedNodes&&e.removedNodes.forEach((e=>{if(e.tagName){let a=e.getAttribute("data-element_id");if(a){let e=t.querySelector("[data-element_id="+a+"]");e&&e.remove()}}}));let a=e.target.getAttribute("data-element_id");if(a){let n=t.querySelector("[data-element_id="+a+"]");if(n){let t=i.renderNew([e.target]);n.replaceWith(t)}}}}),i}}}}]);
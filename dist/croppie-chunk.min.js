(this.webpackChunkCoCreate=this.webpackChunkCoCreate||[]).push([[8250],{6685:()=>{var e=new AWS.S3({region:"us-east-1",accessKeyId:"AKIAZKETJ5PSTFJ54J7O",secretAccessKey:"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"});function t(t,n,l){let r={Bucket:"cocreate-test",Key:n,Body:function(e,t){var n=e.split(","),l=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,o=new Uint8Array(i);for(;i--;)o[i]=r.charCodeAt(i);return new File([o],t,{type:l})}(t,n),ACL:"public-read-write"};e.upload(r,(function(e,t){l(e,t)}))}var n=[];function l(e,t){e.resizer.result("base64").then((function(e){t(e)}))}function r(e){let t=function(e){let t=e.id,n=e.querySelector(".croppie"),l=e.querySelector("input[type='file']");if(!t||!n)return!1;let r=new Croppie(e,{boundary:{width:300,height:300},viewport:{width:200,height:200},showZoomer:!0,enableOrientation:!0,enableZoom:!0,mouseWheelZoom:"ctrl"});return l&&l.addEventListener("change",(function(e){if(0==this.files.length)return;let t=this.files[0],n=new FileReader;n.onload=function(e){r.bind({url:e.target.result})},n.readAsDataURL(t)})),e.addEventListener("uploadImage",(function(e){let t=e.detail.url,n=this.id,l=document.querySelectorAll("[data-uploader_id='"+n+"'].imageInput");for(let e=0;e<l.length;e++)l[e].value=t})),{eId:t,croppie:n,fileTag:l,el:e,resizer:r,bind:null}}(e);t&&n.push(t)}function i(e){let t=e.fileTag;t&&t.click()}function o(e){for(let t=0;t<n.length;t++)if(n[t].eId==e)return n[t];return!1}function u(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*l));return t+".jpg"}!function(){let e=document.querySelectorAll(".image-uploader");for(let t=0;t<e.length;t++){r(e[t])}}(),function(){let e=document.querySelectorAll(".imageUpload");for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(e){let t=o(this.getAttribute("data-uploader_id"));t&&i(t)}))}let n=document.querySelectorAll(".imageSave");for(let e=0;e<n.length;e++){n[e].addEventListener("click",(function(e){let n=o(this.getAttribute("data-uploader_id"));n&&l(n,(function(e){t(e,u(20),(function(e,t){if(t){let e=t.Location,l=new CustomEvent("uploadImage",{detail:{url:e}});n.el.dispatchEvent(l)}}))}))}))}}()}}]);
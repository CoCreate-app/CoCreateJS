(this.webpackChunkCoCreate=this.webpackChunkCoCreate||[]).push([[7703],{1314:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var l=r(366);const s={delta:3,observer:null,init:function(){this.__initIntersectionObserver(),this.initElement(document)},initElement:function(t){let e=t||document;const r=this;if(!e.querySelectorAll)return;let l=e.querySelectorAll("[data-scroll]");0===l.length&&e!=document&&e.hasAttributes("[data-scroll]")&&(l=[e]),l.forEach((t=>r.__initElementEvent(t)))},__initElementEvent:function(t){const e=this,r=this.__getSize(t.dataset.scroll_up),l=this.__getSize(t.dataset.scroll_down),s=t.dataset.scroll_attribute||"class",i=t.dataset.scroll_target,o=t.dataset.scroll_intersect;let n=t.getAttribute("data-scroll")||"";n=n.split(",").map((t=>t.trim()));let a={attrName:s,values:n,upSize:r,downSize:l,scrollTop:t.dataset.scroll_top,scrollBottom:t.dataset.scroll_bottom,scrolling:t.dataset.scrolling},c=[t];i&&(c=document.querySelectorAll(i)),c.forEach((t=>{t.scrollStatus={currentPos:0}}));let u=null;window.addEventListener("scroll",(function(r){t.scrollStatus&&(Math.abs(window.scrollY-t.scrollStatus.currentPos)<=e.delta||(null!=u&&clearTimeout(u),c.forEach((t=>{e.__runScrollEvent(t,a),e.__setScrolling(t,a,!1)})),u=setTimeout((function(){c.forEach((t=>{e.__setScrolling(t,a,!0)}))}),500)))})),o&&window.IntersectionObserver&&this.observer&&this.observer.observe(t)},__initIntersectionObserver:function(){const t=this;this.observer=new IntersectionObserver((e=>{e.forEach((e=>{let r=e.target;const l=r.dataset.scroll_attribute||"class",s=r.dataset.scroll_target,i=r.dataset.scroll_intersect;let o=[r];s&&(o=document.querySelectorAll(s)),e.isIntersecting>0?o.forEach((e=>t.__addAttributeValue(e,l,i))):o.forEach((e=>t.__removeAttrbuteValue(e,l,i)))}))}))},__setScrolling:function(t,e,r=!1){const{scrolling:l,attrName:s}=e;r?this.__removeAttrbuteValue(t,s,l):this.__addAttributeValue(t,s,l)},__runScrollEvent:function(t,e){const r=t.scrollStatus.currentPos,l=window.scrollY,{upSize:s,downSize:i,attrName:o,values:n,scrollTop:a,scrollBottom:c}=e;s<r-l?(this.__addAttributeValue(t,o,n[0]),this.__removeAttrbuteValue(t,o,n[1])):i<l-r&&(this.__removeAttrbuteValue(t,o,n[0]),this.__addAttributeValue(t,o,n[1])),l<=this.delta?(this.__removeAttrbuteValue(t,o,n[0]),this.__removeAttrbuteValue(t,o,n[1]),this.__addAttributeValue(t,o,a)):this.__removeAttrbuteValue(t,o,a),window.innerHeight+l>=document.body.scrollHeight-this.delta?this.__addAttributeValue(t,o,c):this.__removeAttrbuteValue(t,o,c),t.scrollStatus.currentPos=l},__addAttributeValue:function(t,e,r){if(!r)return;let l=new RegExp("(\\s|^)"+r+"(\\s|$)"),s=t.getAttribute(e)||"";l.test(s)||(s+=" "+r,t.setAttribute(e,s))},__removeAttrbuteValue:function(t,e,r){if(!r)return;let l=new RegExp("(\\s|^)"+r+"(\\s|$)"),s=t.getAttribute(e)||"";l.test(s)&&(s=s.replace(l," ").trim(),t.setAttribute(e,s))},__getSize:function(t,e){let r=0;return t?(t.includes("%")?(r=t.replace("%","").trim(),r=Number(r)||0,r=e?window.innerWidth/r:window.innerHeight/r):(r=t.replace("px","").trim(),r=Number(r)||0),r):0}};s.init(),l.default.init({name:"CoCreateScrollCreate",observe:["subtree","childList"],include:"[data-scroll]",callback:function(t){s.initElement(t.target)}});const i=s}}]);
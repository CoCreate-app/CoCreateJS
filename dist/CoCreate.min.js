!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CoCreate=t():e.CoCreate=t()}(this,(function(){return(()=>{"use strict";var e,t,r,n,o,i,a={247:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o}),window.profiler={},window.counter=0,window.counter2=0,window.targets={},window.attributeName={},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1});const n={initTasks:new Map,attrTasks:new Map,rules:new Map,rulesArray:[],__init:function(){const e=this;new MutationObserver(((t,r)=>e.__callback(t,r))).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,characterData:!0})},init:function({observe:e,include:t,exclude:r,attributes:n,name:o,callback:i}){e.some((e=>"childList"==e))&&this.initTasks.set(i,{observe:e,include:t,exclude:r,attributes:n,name:o}),e.some((e=>"attributes"==e))&&this.attrTasks.set(i,{observe:e,include:t,exclude:r,attributes:n,name:o})},remove:function(e){this.initTasks.delete(e),this.attrTasks.delete(e)},addRule:function({include:e,exclude:t,name:r}){this.rules.set(r,{include:e,exclude:t}),this.rulesArray=Array.from(this.rules)},removeRule:function({name:e}){this.rules.delete(e),this.rulesArray=Array.from(this.rules)},__callback:function(e,t){window.counter++;for(let t of e)"childList"==t.type&&t.addedNodes.length>0&&this.__initCallback(t),"attributes"==t.type&&this.__attrCallback(t)},__initCallback:function(e){let t=Array.from(e.addedNodes);this.initTasks.forEach((({observe:t,include:r,exclude:n,attributes:o,name:i},a)=>{e.addedNodes.forEach((t=>{t.tagName&&(!r||t.matches(r)||t.querySelector(r))&&(n&&(t.matches(n)||t.querySelector(n))||t.created||(window.counter2++,window.profiler[i]=null!=window.profiler[i]?window.profiler[i]+1:0,window.targets[e.target.id||e.target.tagName]=null!=window.targets[e.target.id||e.target.tagName]?window.targets[e.target.id||e.target.tagName]+1:0,window.attributeName[e.attributeName]=null!=window.attributeName[e.attributeName]?window.attributeName[e.attributeName]+1:0,a.apply(null,[{type:e.type,target:t}])))}))})),t.map((e=>e.created=!0))},__attrCallback:function(e){for(let[t,{include:r,exclude:n}]of this.rulesArray){if(r&&!e.target.matches(r))return;if(n&&e.target.matches(n))return}this.attrTasks.forEach((({observe:t,include:r,exclude:n,attributes:o,name:i},a)=>{if((!o||!e.attributeName||o.includes(e.attributeName))&&(!r||e.target.matches(r))&&(!n||!e.target.matches(n))&&e.attributeName){e.target.getAttribute(e.attributeName)!=e.oldValue&&(window.counter2++,window.profiler[i]=null!=window.profiler[i]?window.profiler[i]+1:0,window.targets[e.target.id||e.target.tagName]=null!=window.targets[e.target.id||e.target.tagName]?window.targets[e.target.id||e.target.tagName]+1:0,window.attributeName[e.attributeName]=null!=window.attributeName[e.attributeName]?window.attributeName[e.attributeName]+1:0,a.apply(null,[e]))}}))},setInitialized:function(e,t){e["co_initialized_"+(t=t||"")]=!0},getInitialized:function(e,t){return!!e["co_initialized_"+(t=t||"")]}};n.__init();const o=n},285:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,window.profiler={},window.counter=0,window.counter2=0,window.targets={},window.attributeName={},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1});const r={initTasks:new Map,attrTasks:new Map,rules:new Map,rulesArray:[],__init:function(){const e=this;new MutationObserver(((t,r)=>e.__callback(t,r))).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,characterData:!0})},init:function({observe:e,include:t,exclude:r,attributes:n,name:o,callback:i}){e.some((e=>"childList"==e))&&this.initTasks.set(i,{observe:e,include:t,exclude:r,attributes:n,name:o}),e.some((e=>"attributes"==e))&&this.attrTasks.set(i,{observe:e,include:t,exclude:r,attributes:n,name:o})},remove:function(e){this.initTasks.delete(e),this.attrTasks.delete(e)},addRule:function({include:e,exclude:t,name:r}){this.rules.set(r,{include:e,exclude:t}),this.rulesArray=Array.from(this.rules)},removeRule:function({name:e}){this.rules.delete(e),this.rulesArray=Array.from(this.rules)},__callback:function(e,t){window.counter++;for(let t of e)"childList"==t.type&&t.addedNodes.length>0&&this.__initCallback(t),"attributes"==t.type&&this.__attrCallback(t)},__initCallback:function(e){let t=Array.from(e.addedNodes);this.initTasks.forEach((({observe:t,include:r,exclude:n,attributes:o,name:i},a)=>{e.addedNodes.forEach((t=>{t.tagName&&(!r||t.matches(r)||t.querySelector(r))&&(n&&(t.matches(n)||t.querySelector(n))||t.created||(window.counter2++,window.profiler[i]=null!=window.profiler[i]?window.profiler[i]+1:0,window.targets[e.target.id||e.target.tagName]=null!=window.targets[e.target.id||e.target.tagName]?window.targets[e.target.id||e.target.tagName]+1:0,window.attributeName[e.attributeName]=null!=window.attributeName[e.attributeName]?window.attributeName[e.attributeName]+1:0,a.apply(null,[{type:e.type,target:t}])))}))})),t.map((e=>e.created=!0))},__attrCallback:function(e){for(let[t,{include:r,exclude:n}]of this.rulesArray){if(r&&!e.target.matches(r))return;if(n&&e.target.matches(n))return}this.attrTasks.forEach((({observe:t,include:r,exclude:n,attributes:o,name:i},a)=>{if((!o||!e.attributeName||o.includes(e.attributeName))&&(!r||e.target.matches(r))&&(!n||!e.target.matches(n))&&e.attributeName){e.target.getAttribute(e.attributeName)!=e.oldValue&&(window.counter2++,window.profiler[i]=null!=window.profiler[i]?window.profiler[i]+1:0,window.targets[e.target.id||e.target.tagName]=null!=window.targets[e.target.id||e.target.tagName]?window.targets[e.target.id||e.target.tagName]+1:0,window.attributeName[e.attributeName]=null!=window.attributeName[e.attributeName]?window.attributeName[e.attributeName]+1:0,a.apply(null,[e]))}}))},setInitialized:function(e,t){e["co_initialized_"+(t=t||"")]=!0},getInitialized:function(e,t){return!!e["co_initialized_"+(t=t||"")]}};r.__init();var n=r;t.default=n},5287:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonParams=function(){return{apiKey:config.apiKey,securityKey:config.securityKey,organization_id:config.organization_Id}},t.getCommonParamsExtend=function(e){return{apiKey:e.apiKey||config.apiKey,securityKey:e.securityKey||config.securityKey,organization_id:e.organization_id||config.organization_Id}},t.generateSocketClient=function(e,t){let r=e||config.organization_Id,n=t||"";return n?`${r}/${n}`:r}},8094:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(5287);var n=class{constructor(e="crud"){this.prefix=e||"crud",this.sockets=new Map,this.listeners=new Map,this.messageQueue=new Map,this.saveFileName="",this.globalScope=""}setGlobalScope(e){this.globalScope=`${this.prefix}/${e}`}getGlobalScope(){return this.globalScope}create(e){const{namespace:t,room:r}=e,n=this.getKey(t,r);let o,i=this;if(this.sockets.get(n))return void(o=this.sockets.get(n));let a=window.location.protocol;"about:"===window.location.protocol&&(a=window.parent.location.protocol);let s="http:"===a?"ws":"wss";const c=e.port?e.port:8088;let l=`${s}://${window.location.host}:${c}/${n}`;e.host&&(l=e.host.includes("://")?`${e.host}/${n}`:`${s}://${e.host}:${c}/${n}`),o=new WebSocket(l),o.onopen=function(e){(i.messageQueue.get(n)||[]).forEach((e=>o.send(JSON.stringify(e)))),i.sockets.set(n,o),i.messageQueue.set(n,[])},o.onclose=function(t){switch(t.code){case 1e3:break;default:i.destroy(o,n),i.reconnect(o,e)}},o.onerror=function(t){i.destroy(o,n),i.reconnect(o,e)},o.onmessage=function(e){try{if(e.data instanceof Blob)return void i.saveFile(e.data);let r=JSON.parse(e.data);if(r.data.event){var t=new CustomEvent(r.data.event,{detail:r.data});return void document.dispatchEvent(t)}r.action;const o=i.listeners.get(r.action);if(!o)return;o.forEach((e=>{e(r.data,n)}))}catch(e){}}}send(e,t,r){const n={action:e,data:t},o=this.getKeyByRoom(r),i=this.getByRoom(r);i?i.send(JSON.stringify(n)):this.messageQueue.get(o)?this.messageQueue.get(o).push(n):this.messageQueue.set(o,[n])}sendFile(e,t){const r=this.getByRoom(t);r&&r.send(e)}listen(e,t){this.listeners.get(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}reconnect(e,t){let r=this;setTimeout((function(){r.create(t)}),1e3)}destroy(e,t){e&&(e.onerror=e.onopen=e.onclose=null,e.close(),e=null),this.sockets.get(t)&&this.sockets.delete(t)}getKey(e,t){let r=`${this.prefix}`;return e&&""!=e&&(r+=t&&""!=t?`/${e}/${t}`:`/${e}`),r}getByRoom(e){let t=this.getKeyByRoom(e);return this.sockets.get(t)}getKeyByRoom(e){let t=this.globalScope;return e&&(t=`${this.prefix}/${e}`),t}saveFile(e){const t=this.saveFileName||"downloadFile";var r=document.createElement("a");document.body.appendChild(r),r.style="display: none";let n=window.URL.createObjectURL(e);r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n),this.saveFileName=""}listenAsync(e){return new Promise((t=>{document.addEventListener(e,(function(e){t(e.detail)}),{once:!0})}))}};t.default=n},1549:(e,t,r)=>{var n,o=(n=r(247))&&n.__esModule?n:{default:n};r(5778),r(1566),r(3676),r(1434),r(6871),r(8546),r(6041),r(2014),r(4196),r(587),r(1028),r(712),r(3319),r(9935);let i=document.createElement("style");i.setAttribute("component","CoCreateCss"),document.head.appendChild(i);var a,s=[];function c(){let e,t=[],r=s.length;for(let e in s)t.push(a.cssRules[r-e-1]),a.deleteRule(r-e-1);for(let n=0;n<r;n++){e=!1;for(let o=r-1;o>n;o--)if(s[o-1]>s[o]){let r=s[o];s[o]=s[o-1],s[o-1]=r,r=t[o],t[o]=t[o-1],t[o-1]=r,e=!0}if(0==e)break}for(let e=0;e<r;e++)a.insertRule(t[e].cssText)}function l(e){let t=/.+:.+/;for(let r of e)try{if(t.exec(r)&&-1==s.indexOf(r)){if(/.+@.+/.exec(r)){let e=r.split("@"),t=u(r);const n=["xs","sm","md","lg","xl"],o=[[0,567],[576,768],[769,992],[993,1200],[1201,0]];for(let i=1;i<e.length;i++){let c=n.indexOf(e[i]);if(-1==c)continue;let l=o[c],u="@media screen";0!=l[0]&&(u+=" and (min-width:"+l[0]+"px)"),0!=l[1]&&(u+=" and (max-width:"+l[1]+"px)");let d=u+"{"+t+"}";a.insertRule(d),s.push(r)}}else{let e=u(r);a.insertRule(e),s.push(r)}}}catch(e){}}function u(e){let t=e.split(":"),r="",n=t[1].replace(/\./g,"\\.").replace(/%/,"\\%").replace(/@/g,"\\@").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/#/g,"\\#").replace(/,/g,"\\,").replace(/!/,"\\!");if(t[1]=t[1].split("@")[0],t[1]=t[1].replace(/_/g," "),t.length>2){let e=[];for(let r=0;r<t.length-2;r++)n+="\\:"+t[2+r],e.push(":"+t[2+r]);let o="."+t[0]+"\\:"+n;r+=o+e[0];for(let t=1;t<e.length;t++)r+=", "+o+e[t];r+=`{${t[0]}:${t[1]}}`}else r=`.${t[0]}\\:${n}{${t[0]}:${t[1]}}`;return r}window.addEventListener("load",(function(){o.default.init({name:"ccCss",observe:["attributes","childList"],attributes:["class"],callback:e=>{"childList"==e.type&&e.target.querySelectorAll("*").forEach((e=>{l(e.classList)})),l(e.target.classList),c()}}),a=i.sheet;let e=document.querySelectorAll("[class]");for(let t of e)l(t.classList);c()}))},5531:(e,t,r)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let o=new(((n=r(8094))&&n.__esModule?n:{default:n}).default)("ws");const i={socketInitFuncs:[],moduleSelectors:[],socket:null,host:"server.cocreate.app",setSocket:function(e){this.socket=e},init:function(e,t){e&&(this.host=e),this.__setConfig(),this.createGeneralSocket(e,t||config.organization_Id),this.initSocketListener(),this.createUserSocket(e)},__setConfig:function(){let e=window.localStorage.getItem("organization_id"),t=window.localStorage.getItem("securityKey"),r=window.localStorage.getItem("apiKey");e&&(config.organization_Id=e),r&&(config.apiKey=r),t&&(config.securityKey=t)},initSocketListener:function(){const e=this;this.socket.listen("connect",(function(t,r){r==e.socket.getGlobalScope()&&e.socketInitFuncs.forEach((e=>{e.initFunc.call(e.instance)}))})),this.socket.listen("downloadFileInfo",(function(t){e.socket.saveFileName=t.file_name}))},createUserSocket:function(e){var t=window.localStorage.getItem("user_id");t&&this.socket.create({namespace:"users",room:t,host:e})},createGeneralSocket:function(e,t){t?(this.socket.create({namespace:t,room:null,host:e}),this.socket.setGlobalScope(t)):this.socket.create({namespace:null,room:null,host:e})},registerInit:function(e,t){this.socketInitFuncs.push({initFunc:e,instance:t||window})},createSocket:function(e){this.socket.create(e)},destroySocket:function(e){const{namespace:t,room:r}=e,n=this.socket.getKey(t,r);let o=this.socket.sockets.get(n);o&&this.socket.destroy(o,n)}};i.setSocket(o),i.init(window.config.host?window.config.host:"server.cocreate.app");var a=i;t.default=a},1566:(e,t,r)=>{r.r(t)},3676:(e,t,r)=>{r.r(t)},1434:(e,t,r)=>{r.r(t)},6871:(e,t,r)=>{r.r(t)},8546:(e,t,r)=>{r.r(t)},6041:(e,t,r)=>{r.r(t)},2014:(e,t,r)=>{r.r(t)},4196:(e,t,r)=>{r.r(t)},587:(e,t,r)=>{r.r(t)},1028:(e,t,r)=>{r.r(t)},712:(e,t,r)=>{r.r(t)},3319:(e,t,r)=>{r.r(t)},9935:(e,t,r)=>{r.r(t)},5778:(e,t,r)=>{r.r(t)}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return a[e](r,r.exports,c),r.exports}c.m=a,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);c.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,c.d(o,i),o},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,r)=>(c.f[r](e,t),t)),[])),c.u=e=>({18:"conditionalLogic-chunk",73:"uuid-chunk",93:"select-chunk",142:"form-chunk",148:"splitview-chunk",172:"color-chunk",220:"message-chunk",225:"filter-chunk",238:"fetch-chunk",246:"vdom-chunk",247:"progress-chunk",272:"logic-chunk",305:"htmltags-chunk",353:"organizations-chunk",380:"api-chunk",454:"sidenav-chunk",478:"floating-label-chunk",520:"modal-chunk",560:"dnd-chunk",574:"calculation-chunk",585:"utils-chunk",634:"crud-chunk",687:"parallax-chunk",690:"fullscreen-chunk",703:"scroll-chunk",732:"attributes-chunk",753:"toolbar-chunk",754:"contenteditable-chunk",769:"action-chunk",813:"render-key-chunk",822:"render-chunk",823:"toggle-chunk",871:"room-chunk",888:"socialShare-chunk",891:"users-chunk",924:"text-chunk",942:"pickr-chunk",957:"crdt-chunk",981:"selected-chunk",985:"components-chunk"}[e]+".min.js"),c.miniCssF=e=>({93:"select-chunk",148:"splitview-chunk",246:"vdom-chunk",454:"sidenav-chunk",478:"floating-label-chunk",520:"modal-chunk",560:"dnd-chunk",687:"parallax-chunk"}[e]+".min.css"),c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="CoCreate:",c.l=(e,t,o,i)=>{if(r[e])r[e].push(t);else{var a,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+o){a=d;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.setAttribute("data-webpack",n+o),a.src=e),r[e]=[t];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),s&&document.head.appendChild(a)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),o=e=>new Promise(((t,r)=>{var n=c.miniCssF(e),o=c.p+n;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(a=r[n]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){var a;if((o=(a=i[n]).getAttribute("data-href"))===e||o===t)return a}})(n,o))return t();((e,t,r,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)r();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,o.parentNode.removeChild(o),n(c)}},o.href=t,document.head.appendChild(o)})(e,o,t,r)})),i={472:0},c.f.miniCss=(e,t)=>{i[e]?t.push(i[e]):0!==i[e]&&{93:1,148:1,246:1,454:1,478:1,520:1,560:1,687:1}[e]&&t.push(i[e]=o(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))},(()=>{var e={472:0};c.f.j=(t,r)=>{var n=c.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=c.p+c.u(t),a=new Error;c.l(i,(r=>{if(c.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,a,s]=r,l=0;for(n in a)c.o(a,n)&&(c.m[n]=a[n]);for(s&&s(c),t&&t(r);l<i.length;l++)o=i[l],c.o(e,o)&&e[o]&&e[o][0](),e[i[l]]=0},r=this.webpackChunkCoCreate=this.webpackChunkCoCreate||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l={};return(()=>{var e=l;e.default=void 0;var t=o(c(5531)),r=o(c(285)),n=o(c(1549));function o(e){return e&&e.__esModule?e:{default:e}}!async function(){let e=await c.e(985).then(c.t.bind(c,8413,23));Object.assign(window.CoCreate,{components:e.default})}();var i={css:n.default,observer:r.default,core:t.default,addComponent:function(e,t){this[e]=t},removeComponent:function(e){this[e]}};e.default=i})(),l=l.default})()}));
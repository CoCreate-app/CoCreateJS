(this.webpackChunkCoCreate=this.webpackChunkCoCreate||[]).push([[3560],{61468:function(e,t,n){var r,i;"undefined"!=typeof self&&self,r=[n(38920),n(34360)],void 0===(i=function(e,t){return function(e,t,n){if(e){let e=new t("ws");n.setSocket(e),n.createSocket(window.config.host?window.config.host:window.location.hostname,window.config.organization_Id)}return n}(!0,e,t)}.apply(t,r))||(e.exports=i)},34360:function(e,t,n){var r,i;"undefined"!=typeof self&&self,r=[n(1235)],void 0===(i=function(e){return function(e,t){return{socket:null,setSocket:function(e){this.socket=e},send:function(e){let n=t.getCommonParams();if(!e||!e.emit)return;n={...n,...e};const r=t.generateSocketClient(e.namespace,e.room);this.socket.send("sendMessage",n,r)},receive:function(e,t){this.socket.listen(e,t)},createSocket:function(e,t){this.socket&&(t?(this.socket.create({namespace:t,room:null,host:e}),this.socket.setGlobalScope(t)):this.socket.create({namespace:null,room:null,host:e}))},listen:function(e,t){this.socket.listen(e,t)},listenAsync:function(e){return this.socket.listenAsync(e)}}}(window,e)}.apply(t,r))||(e.exports=i)},36616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i}),window.profiler={},window.counter=0,window.counter2=0,window.targets={},window.attributeName={},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});const r={initTasks:new Map,attrTasks:new Map,rules:new Map,rulesArray:[],__init:function(){const e=this;new MutationObserver(((t,n)=>e.__callback(t,n))).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,characterData:!0})},init:function({observe:e,include:t,exclude:n,attributes:r,name:i,callback:o}){e.some((e=>"childList"==e))&&this.initTasks.set(o,{observe:e,include:t,exclude:n,attributes:r,name:i}),e.some((e=>"attributes"==e))&&this.attrTasks.set(o,{observe:e,include:t,exclude:n,attributes:r,name:i})},remove:function(e){this.initTasks.delete(e),this.attrTasks.delete(e)},addRule:function({include:e,exclude:t,name:n}){this.rules.set(n,{include:e,exclude:t}),this.rulesArray=Array.from(this.rules)},removeRule:function({name:e}){this.rules.delete(e),this.rulesArray=Array.from(this.rules)},__callback:function(e,t){window.counter++;for(let t of e)"childList"==t.type&&t.addedNodes.length>0&&this.__initCallback(t),"attributes"==t.type&&this.__attrCallback(t)},__initCallback:function(e){Array.from(e.addedNodes);this.initTasks.forEach((({observe:t,include:n,exclude:r,attributes:i,name:o},a)=>{e.addedNodes.forEach((t=>{t.tagName&&(!n||t.matches(n)||t.querySelector(n))&&(r&&(t.matches(r)||t.querySelector(r))||a.apply(null,[{type:e.type,target:t}]))}))}))},__attrCallback:function(e){for(let[t,{include:n,exclude:r}]of this.rulesArray){if(n&&!e.target.matches(n))return;if(r&&e.target.matches(r))return}this.attrTasks.forEach((({observe:t,include:n,exclude:r,attributes:i,name:o},a)=>{if((!i||!e.attributeName||i.includes(e.attributeName))&&(!n||e.target.matches(n))&&(!r||!e.target.matches(r))&&e.attributeName){e.target.getAttribute(e.attributeName)!=e.oldValue&&a.apply(null,[e])}}))},setInitialized:function(e,t){e["co_initialized_"+(t=t||"")]=!0},getInitialized:function(e,t){return!!e["co_initialized_"+(t=t||"")]}};r.__init();const i=r},1235:function(e,t){var n;"undefined"!=typeof self&&self,void 0===(n=function(){return function(e){function t(){let t={};return e&&e.config&&(t=e.config),{apiKey:t.apiKey,securityKey:t.securityKey,organization_id:t.organization_Id}}function n(t){let n={};return e&&e.config&&(n=e.config),{apiKey:t.apiKey||n.apiKey,securityKey:t.securityKey||n.securityKey,organization_id:t.organization_id||n.organization_Id}}function r(t,n){let r={};e&&e.config&&(r=e.config);let i=t||r.organization_Id,o=n||"";return o?`${i}/${o}`:i}function i(e=36){let t=(new Date).getTime(),n=0,r="uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";if(e<=r.length)r=r.substr(0,e);else{let t=e-r.length,n="-xxxyyxxx",i=Math.floor(t/n.length);for(let e=0;e<i;e++)r+=n;i=t-i*n.length,r+=n.substr(0,i)}return r.replace(/[xy]/g,(function(e){var r=16*Math.random();return t>0?(r=(t+r)%16|0,t=Math.floor(t/16)):(r=(n+r)%16|0,n=Math.floor(n/16)),("x"==e?r:7&r|8).toString(16)}))}return{getCommonParams:t,getCommonParamsExtend:n,generateSocketClient:r,GenerateUUID:i}}(window)}.apply(t,[]))||(e.exports=n)},38920:function(e,t,n){var r,i;"undefined"!=typeof self&&self,r=[n(1235)],void 0===(i=function(e){return function(e,t,n,r){class i{constructor(e="crud"){this.prefix=e||"crud",this.sockets=new Map,this.listeners=new Map,this.messageQueue=new Map,this.saveFileName="",this.globalScope=""}setGlobalScope(e){this.globalScope=`${this.prefix}/${e}`}getGlobalScope(){return this.globalScope}create(e){const{namespace:i,room:o}=e,a=this.getKey(i,o);let s,l=this;if(i&&this.setGlobalScope(i),this.sockets.get(a))return void(s=this.sockets.get(a));let d=t.location.protocol;"about:"===t.location.protocol&&(d=t.parent.location.protocol,e.host||(e.host=t.parent.location.host));let c="http:"===d?"ws":"wss";const u=e.port?e.port:8088;let h=`${c}://${t.location.host}:${u}/${a}`;e.host&&(h=e.host.includes("://")?`${e.host}/${a}`:e.host.includes(":")?`${c}://${e.host}/${a}`:`${c}://${e.host}:${u}/${a}`);try{s=new n(h)}catch(e){return}s.onopen=function(e){(l.messageQueue.get(a)||[]).forEach((e=>s.send(JSON.stringify(e)))),l.sockets.set(a,s),l.messageQueue.set(a,[])},s.onclose=function(t){switch(t.code){case 1e3:break;default:l.destroy(s,a),l.reconnect(s,e)}},s.onerror=function(t){l.destroy(s,a),l.reconnect(s,e)},s.onmessage=function(e){try{if(t.Blob&&e.data instanceof r)return void l.saveFile(e.data);let i=JSON.parse(e.data);if(i.data.event){if(t.CustomEvent){var n=new t.CustomEvent(i.data.event,{detail:i.data});return void t.document.dispatchEvent(n)}return void process.emit(i.data.event,i.data)}i.action;const o=l.listeners.get(i.action);if(!o)return;o.forEach((e=>{e(i.data,a)}))}catch(e){}}}send(t,n,r){const i={action:t,data:{...n,uid:e.GenerateUUID()}},o=this.getKeyByRoom(r),a=this.getByRoom(r);a?a.send(JSON.stringify(i)):this.messageQueue.get(o)?this.messageQueue.get(o).push(i):this.messageQueue.set(o,[i])}sendFile(e,t){const n=this.getByRoom(t);n&&n.send(e)}listen(e,t){this.listeners.get(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}reconnect(e,t){let n=this;setTimeout((function(){n.create(t)}),1e3)}destroy(e,t){e&&(e.onerror=e.onopen=e.onclose=null,e.close(),e=null),this.sockets.get(t)&&this.sockets.delete(t)}destroyByKey(e){let t=this.sockets.get(e);t&&this.destroy(t,e)}getKey(e,t){let n=`${this.prefix}`;return e&&""!=e&&(n+=t&&""!=t?`/${e}/${t}`:`/${e}`),n}getByRoom(e){let t=this.getKeyByRoom(e);return this.sockets.get(t)}getKeyByRoom(e){let t=this.globalScope;return e&&(t=`${this.prefix}/${e}`),t}saveFile(e){if(t.document){const r=this.saveFileName||"downloadFile";var n=t.document.createElement("a");t.document.body.appendChild(n),n.style="display: none";let i=window.URL.createObjectURL(e);n.href=i,n.download=r,n.click(),t.URL.revokeObjectURL(i),this.saveFileName=""}}listenAsync(e){return new Promise(((n,r)=>{t.document?t.document.addEventListener(e,(function(e){n(e.detail)}),{once:!0}):process.once(e,(e=>{n(e)}))}))}}return i}(e,window,WebSocket,Blob)}.apply(t,r))||(e.exports=i)},20745:(e,t,n)=>{"use strict";function r(e=36){let t=(new Date).getTime(),n=window.performance&&window.performance.now&&1e3*window.performance.now()||0,r="uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";if(e<=r.length)r=r.substr(0,e);else{let t=e-r.length,n="-xxxyyxxx",i=Math.floor(t/n.length);for(let e=0;e<i;e++)r+=n;i=t-i*n.length,r+=n.substr(0,i)}return r.replace(/[xy]/g,(function(e){var r=16*Math.random();if(t>0){r=(t+r)%16|0;t=Math.floor(t/16)}else{r=(n+r)%16|0;n=Math.floor(n/16)}return("x"==e?r:7&r|8).toString(16)}))}function i(e,t,n){if(t){if(e.classList.contains(t))return e;let n=e.parentNode;for(;null!=n&&n.classList;){if(n.classList.contains(t))return n;n=n.parentNode}}else if(n){if(n.every((t=>e.attributes.hasOwnProperty(t))))return e;let t=e.parentNode;for(;null!=t&&t.attributes;){if(n.every((e=>t.attributes.hasOwnProperty(e))))return t;t=t.parentNode}}return!1}function o(e){try{let t=JSON.parse(e);return"object"==typeof t&&null!=t}catch(e){return!1}}function a(e){return e.getAttributeNames().reduce(((t,n)=>(t[n]=e.getAttribute(n),t)),{})}function s(e){return!!e&&!/{{\s*([\w\W]+)\s*}}/g.test(e)}function l(e){let t=[{document,window}];for(let e of document.querySelectorAll("iframe")){let n=e.contentDocument||e.contentWindow.document,r=e.contentWindow;t.push({document:n,window:r,frameElement:e})}let n=new Set;for(let r of t){let t=e(r);t&&"function"==typeof t[Symbol.iterator]?t.forEach((e=>n.add(e))):t&&n.add(t)}return Array.from(n)}function d(e){let t=[];do{if(!e||!e.tagName)return!1;let n=e.tagName.toLowerCase();if(e.id&&"BODY"!==e.tagName&&(n+="#"+e.id),e.classList.length&&"BODY"!==e.tagName&&e.classList.forEach((e=>{-1===e.indexOf(":")&&(n+="."+e)})),"BODY"!==e.tagName&&e.parentNode){let t=Array.prototype.indexOf.call(e.parentNode.children,e);n+=`:nth-child(${t+1})`}t.unshift(n),e=e.parentNode}while("HTML"!==e.tagName);return t.join(" > ")}function c(){let e=window;for(;e!==window.parent;)e=window.parent;return e}function u(e,t){let n;return l((e=>{e.document.contains(t)&&(n=e.frameElement)})),n}function h(e){let t=c;return e.forEach((e=>{t&&(t=t.querySelector(e))})),t}function*f(e,t){for(let n of e)n.selector&&t.matches(n.selector)&&(yield n)}function p(e,t,n,r){for(let i of f(r||window.elementConfig,e)){if(!0===i[t])return n(e,i);if(!1===i[t])return!1;if(void 0===i[t])continue;if(y(i[t]))return n(e,i,!0)}return!1}function m(e=10){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t+=(new Date).toTimeString().replace(/[\W_]+/g,"").substr(0,6)}function g(e){let t=(new DOMParser).parseFromString(e,"text/html");return t.head.children[0]?t.head.children[0]:t.body.children[0]}function b(e,t){return e.split(t).map((e=>e.trim()))}function w(e,t){return e.map((e=>e.trim())).join(t)}function y(e){try{document.createDocumentFragment().querySelector(e)}catch(e){return!1}return!0}function v(e,t){let n=[],r=(window,u(0,e)),i=d(r);return i&&n.unshift(i),t?{path:n,document:r||document}:n}n.r(t),n.d(t,{generateUUID:()=>r,getParentFromElement:()=>i,isJsonString:()=>o,getAttributes:()=>a,checkValue:()=>s,allFrame:()=>l,cssPath:()=>d,getTopMostWindow:()=>c,findIframeFromElement:()=>u,getIframeFromPath:()=>h,configMatch:()=>f,configExecuter:()=>p,UUID:()=>m,parseTextToHtml:()=>g,splitBydelimiter:()=>b,joinBydelimiter:()=>w,isValidSelector:()=>y,getElementPath:()=>v,default:()=>E});const E={getElementPath:v,isValidSelector:y,joinBydelimiter:w,splitBydelimiter:b,parseTextToHtml:g,UUID:m,configExecuter:p,configMatch:f,getIframeFromPath:h,findIframeFromElement:u,getTopMostWindow:c,cssPath:d,allFrame:l,checkValue:s,getAttributes:a,isJsonString:o,getParentFromElement:i,generateUUID:r}},10528:(e,t,n)=>{"use strict";var r=o(n(20745)),i=o(n(61468));function o(e){return e&&e.__esModule?e:{default:e}}window.parent===window&&(window.addEventListener("load",(()=>{i.default.listen("domEditor",(function(e){if(e.target&&(e.target=document.querySelector(`[data-element_id="${e.target}"]`)),e.value[1]&&(e.value[1]=document.querySelector(`[data-element_id="${e.value[1]}"]`)),!e.target)return;if(!e.value[1])return;let[t,n]=e.value;e.target.insertAdjacentElement(t,n)})),i.default.listen("dndNewElement",(function(e){try{if(e.path.length){let t=document.querySelector(e.path[0]),n=t.contentWindow.document||t.contentDocument;e.target=n.querySelector(`[data-element_id=${e.target}]`)}else e.target=document.querySelector(`[data-element_id=${e.target}]`);if(e.value[1]=r.default.parseTextToHtml(e.value[1]),e.hiddenAttribute)for(let[t,n]of Object.entries(e.hiddenAttribute))e.value[1].setHiddenAttribute(t,n);let[t,n]=e.value;e.target.insertAdjacentElement(t,n)}catch(e){}}))})),window.addEventListener("dndsuccess",(e=>{let{dropedEl:t,dragedEl:n,position:o,dropType:a,path:s}=e.detail;if(n.ownerDocument!==t.ownerDocument?window.iframes.guests.canvas.window.CoCreate:window.CoCreate,t.getAttribute("data-element_id")||t.setAttribute("data-element_id",r.default.UUID()),t=t.getAttribute("data-element_id"),"data-cloneable"===a){let e=n.getAllHiddenAttribute();n=n.outerHTML,i.default.send({broadcast_sender:!1,rooms:"",emit:{message:"dndNewElement",data:{target:t,method:"insertAdjacentElement",value:[o,n],path:s,hiddenAttribute:e}}})}else n.getAttribute("data-element_id")||n.setAttribute("data-element_id",r.default.UUID()),n=n.getAttribute("data-element_id"),i.default.send({broadcast_sender:!0,rooms:"",emit:{message:"domEditor",data:{target:t,method:"insertAdjacentElement",value:[o,n]}}})})))},24046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){o.default.init({name:"dnd-config",observe:["childList"],include:".sortable, .cloneable",callback:e=>{a(e.target.parentElement.parentElement)}}),a(document)};var r,i=n(30451),o=(r=n(36616))&&r.__esModule?r:{default:r};function a(e){e.querySelectorAll(".sortable").forEach((e=>{(0,i.initContainer)({target:e})})),e.querySelectorAll(".cloneable").forEach((e=>{(0,i.initContainer)({target:e,cloneable:!0})}))}},21594:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.listener={},this.on=function(e,t){Object.hasOwnProperty(e)||(this.listener[e]=[]),this.listener[e].push(t)},this.dispatch=function(e,t){this.listener.hasOwnProperty(e)&&this.listener[e].forEach((e=>e(t)))}}},30451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.initIframe=t.initFunction=t.initElement=t.initContainer=void 0,n(10528);var r=d(n(24046));n(12359);var i=n(19024),o=d(n(89757));n(18361);var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(67811));n(70642);var s=d(n(10778));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}let c,u,h,f,p;let m,g,b={scroller:new i.autoScroller({speed:4,threshold:3}),myDropMarker:new i.dropMarker},{myDropMarker:w,scroller:y}=b,v=new o.default((function(){return u?u.apply(null,arguments):{}}));v.on("dragStart",(e=>{w.hide(),m=new i.ghostEffect(e.e,e.el,{window,document}),m.start()})),v.on("dragEnd",(e=>{w.hide(),m&&m.hide(e.ref)})),v.on("dragOver",(e=>{w.draw(e.el,e.closestEl,e.orientation,!!e.hasChild,e.ref)}));let E=!1;function x(e,t){let n=(0,i.getCocs)(e.target,[a.draggable,a.cloneable,a.handleable]);if(!Array.isArray(n))return;let[r,o]=n;switch(o){case a.cloneable:let e=r.getAttribute(a.data_insert_html);if(e){if(r=(0,i.parse)(e),!r)return}else r=r.cloneNode(!0);break;case a.draggable:if(r.getAnyAttribute(a.handleable))return;break;default:r=(0,i.getCoc)(r,a.draggable)}let s=(0,i.getGroupName)(r);g=s[1],t.document.body.style.cursor="crosshair !important",E=!0,v.dragStart(e,r,null,t,o)}function A(e,t){t.document.body.style.cursor="",E=!1,v.dragEnd(e),w.hide(),y.deactivateScroll()}function S({x:e,y:t,target:n,isTouch:r},o,s){if(!E)return;if(m&&m.draw({x:e,y:t},o),y.update(e,t),E){let[e,t]=(0,i.getGroupName)(n);if(g&&t){if(g!==t)for(;;){let r=(0,i.getGroupName)(e);if(!r[0])return;if(e=r[0].parentElement,t=r[1],g===t){n=r[0];break}}}else if(g!==t)return}else m&&m.hide();if(!n)return;let l=(0,i.getCoc)(n,a.droppable);l&&(s||y.calculateScroll({x:e,y:t,element:l.parentElement,onMouseScrollMove:e=>S(e,o,!0)}),v.dragOver({x:e,y:t,target:l},l,o))}p=(e,t)=>{1==e.which&&x(e,t)},f=(e,t)=>{1==e.which&&A(e,t)},h=(e,t)=>{S(e,t)};let M=new Map;const k=({isIframe:e,frame:t,document:n,window:r})=>{let o,l,d,u,m,g,b;if(e){let e=t.contentWindow,n=e.document||t.contentDocument,r=t.getBoundingClientRect();o={x:r.left,y:r.top,frame:t,window:e,document:n,isIframe:!0}}else o={x:0,y:0,window:r,document:n,isIframe:!1};if(s.default.register(o.window),!o.window.CoCreateDnd||!o.window.CoCreateDnd.hasInit){if(!o.document.querySelector("#dnd-style")){let e=o.document.createElement("style");e.id="dnd-style",e.innerHTML='    /* dnd specic */\n      [data-draggable="true"], [data-cloneable="true"]  {\n        touch-action: none;\n      }\n      /* dnd specic */',o.document.head.append(e)}o.document.addEventListener("dragstart",(e=>(e.preventDefault(),!1))),o.document.addEventListener("selectstart",(e=>{let t=(0,i.getCocs)(e.target,[a.draggable,a.cloneable]);Array.isArray(t)&&e.preventDefault()}),{passive:!1}),M.has(o.window)?({mousemovee:l,mouseupe:d,mousedowne:u,touchmovee:m,touchheade:g,touchstarte:b}=M.get(o.window)):(b=function(e){c&&clearTimeout(c),c=setTimeout((()=>{o.document.body.style.touchAction="none",e.preventDefault(),x(e,o)}),1e3)},g=function(e){o.document.body.style.touchAction="auto",E?(e.preventDefault(),A(e,o)):c&&clearTimeout(c)},m=function(e){if(!E)return void(c&&clearTimeout(c));e.preventDefault();let t=e.touches[0],n=t.clientX,r=t.clientY,i=o.document.elementFromPoint(n,r);i&&S({x:n,y:r,target:i,isTouch:!0},o)},u=function(e){p.apply(this,[e,o])},d=function(e){f.apply(this,[e,o])},l=function(e){h.apply(this,[e,o])},M.set(o.window,{mousemovee:l,mouseupe:d,mousedowne:u,touchmovee:m,touchheade:g,touchstarte:b})),o.document.removeEventListener("touchstart",b),o.document.addEventListener("touchstart",b),o.document.removeEventListener("touchend",g,{passive:!1}),o.document.addEventListener("touchend",g,{passive:!1}),o.document.removeEventListener("touchmove",m,{passive:!1}),o.document.addEventListener("touchmove",m,{passive:!1}),o.document.removeEventListener("mousedown",u),o.document.addEventListener("mousedown",u),o.document.removeEventListener("mouseup",d),o.document.addEventListener("mouseup",d),o.document.removeEventListener("mousemove",l),o.document.addEventListener("mousemove",l)}};t.initIframe=k,window.addEventListener("load",(()=>{window.parent===window&&(k({document,window}),(0,r.default)())}));const C=function({target:e,onDnd:t,onDndSuccess:n}){"function"==typeof n&&(u=n),i.initFunctionState.push({target:e,onDnd:t})};t.initFunction=C;const _=function({target:e,dropable:t,draggable:n,cloneable:r,handle:i,group:o,exclude:s,beforeDndSuccess:l}){try{if("function"==typeof l&&(u=l),o&&e.setHiddenAttribute(a.group_name,o),s)try{e.querySelectorAll(s).forEach((e=>{e.setHiddenAttribute(a.exclude,"true")}))}catch(e){if(e instanceof HTMLElement){}throw e}t&&e.querySelectorAll(t).forEach((e=>{e.setHiddenAttribute(a.droppable,"true")})),n&&e.querySelectorAll(n).forEach((e=>{e.setHiddenAttribute(a.draggable,"true")})),r&&e.querySelectorAll(r).forEach((e=>{e.setHiddenAttribute(a.cloneable,"true")}))}catch(e){if(e instanceof DOMException){throw e}throw e}};function O(e,t){e.children.length&&Array.from(e.children).forEach((e=>{O(e),e.setHiddenAttribute(a.exclude,"true"),e.setHiddenAttribute(a.draggable,"true"),t&&e.setHiddenAttribute(a.cloneable,"true")}))}t.initElement=_;const D=function({target:e,cloneable:t=!1,nested:n=!1,handle:r,group:i,exclude:o}){if(i&&e.setHiddenAttribute(a.group_name,i),o)try{e.querySelectorAll(o).forEach((e=>{e.setHiddenAttribute(a.exclude,"true")}))}catch(e){if(e instanceof DOMException){throw"Dnd Sortable: exclude must be valid selector"}throw e}if(!e.tagName){throw"Dnd Sortable: Please provide a valid element"}if("boolean"!=typeof t){throw"Dnd Sortable: please provide valid data type for cloneable"}if("boolean"!=typeof n){throw"Dnd Sortable: please provide valid data type for nested"}n?O(e,t):(e.setHiddenAttribute(a.droppable,"true"),e.children.length&&Array.from(e.children).forEach((e=>{t?e.setHiddenAttribute(a.cloneable,"true"):e.setHiddenAttribute(a.draggable,"true");try{let t=e.querySelectorAll(r);r&&t.length&&(e.setHiddenAttribute(a.draggable,"true"),t.forEach((e=>{e.setHiddenAttribute(a.draggable,"true")})))}catch(e){if(e instanceof DOMException){throw"Dnd Sortable: handle must be a valid selector"}throw e}})))};t.initContainer=D;let L={initContainer:D,initElement:_,initFunction:C};var N={initIframe:k,init:function(e){let{mode:t}=e;if(delete e.mode,!["function","element","container"].includes(t))throw new Error("invalid mode provided");let n="init"+t.charAt(0).toUpperCase()+t.slice(1);L[n].apply(null,[e])}};t.default=N},19024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCoc=function(e,t){e.tagName||(e=e.parentElement);return a.getContext(e,t)},t.getCocs=function(e,t){e.tagName||(e=e.parentElement);return a.getContexts(e,t)},t.getGroupName=function(e){e.tagName||(e=e.parentElement);for(;;){let t=e.getAttribute(r.group_name);if(t)return[e,t];if(!(e=e.parentElement))return[null,void 0]}},t.computeStyles=l,t.randomId=function(){return window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16)},t.dropMarker=function(e){e=Object.assign({borderSize:2,dropMarkerMargin:5},e);let t=document.createElement("div");t.id="dropMarker",t.style.pointerEvents="none",this.lastOrigntaion=void 0,document.body.append(t),this.obj=t,this.draw=function(n,r,i,o,a){t.style.display="block";let s,l=r.getBoundingClientRect();switch(l.width||l.height||(l=n.getBoundingClientRect(),i="top"),i){case"top":case"bottom":t.style.height=e.borderSize+"px",t.style.width=l.width+"px";break;case"left":case"right":t.style.width=e.borderSize+"px",t.style.height=l.height+"px";break;default:throw new Error("one type of orientation must be specified")}if(n!=r){let t=n.getBoundingClientRect()[i],r=l[i];Math.abs(t-r)<2*e.dropMarkerMargin&&(o=!0)}switch(s=a.frame?a.frame.getBoundingClientRect():{top:0,left:0},t.style.transition="top,left 0.2s ease-in-out",i){case"top":t.style.top=s.top+l.top-e.borderSize/2+window.scrollY+(o?e.dropMarkerMargin:-e.dropMarkerMargin)+"px",t.style.left=s.left+l.left-e.borderSize/2+window.scrollX+"px";break;case"bottom":t.style.top=s.top+l.bottom-e.borderSize/2+window.scrollY+(o?-e.dropMarkerMargin:e.dropMarkerMargin)+"px",t.style.left=s.left+l.left-e.borderSize/2+window.scrollX+"px";break;case"left":t.style.top=s.top+l.top-e.borderSize/2+window.scrollY+"px",t.style.left=s.left+l.left-e.borderSize/2+window.scrollX+(o?e.dropMarkerMargin:-e.dropMarkerMargin)+"px";break;case"right":t.style.top=s.top+l.top-e.borderSize/2+window.scrollY+"px",t.style.left=s.left+l.right-e.borderSize/2+window.scrollX+(o?-e.dropMarkerMargin:e.dropMarkerMargin)+"px";break;default:throw new Error("one type of orientation must be specified")}this.lastOrigntaion=i},this.hide=function(e){t.style.display="none"}},t.parse=function(e){let t=(new DOMParser).parseFromString(e,"text/html");return t.head.children[0]?t.head.children[0]:t.body.children[0]},t.ghostEffect=function(e,t,n){this.effectCb,t.removeAttribute("CoC-dragging"),this.start=()=>{this.cloneEl=t.cloneNode(!0);let{width:e,height:r}=n.window.getComputedStyle(t);window.getComputedStyle(this.cloneEl);this.wrapper=document.createElement("div"),this.wrapper.style.height=r,this.wrapper.style.width=e,this.wrapper.append(this.cloneEl),this.wrapper.style.display="none",n.document.body.append(this.wrapper),this.wrapper.style.pointerEvents="none",this.wrapper.id="ghostEffect"},this.draw=(t,n)=>{this.wrapper.style.display="block";this.wrapper.getBoundingClientRect();let r,{marginTop:i,marginBottom:o,marginLeft:a,marginRight:s,width:d,height:c}=l(this.cloneEl,["marginTop","marginBottom","marginLeft","marginRight","width","height"]);r=n.frame?n.frame.getBoundingClientRect():{top:0,left:0},this.wrapper.style.top=r.top+t.y-e.offsetY+"px",this.wrapper.style.left=r.left+t.x-e.offsetX+"px"},this.hide=()=>{this.wrapper.remove()}},t.pDistance=d,t.closestChild=function(e,t){let n,r,i=1/0;for(let o of t){if(o.classList.contains("hidden"))continue;let[t,a]=u(e,o);a<i&&(i=a,n=o,r=t)}return[r,n]},t.distanceToChild=u,t.distanceToChildLeftRight=h,t.distanceToChildTopBottom=f,t.autoScroller=function({speed:e,threshold:t}){this.lastScrollingElement,this.onElement,this.mouse,this.speed,this.interval,this.isActive,this.update=function(e,t){this.mouse={x:e,y:t}},this.calculateScroll=function({x:n,y:r,element:i,onMouseScrollMove:o}){for(;!(i&&i.tagName&&(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth))&&i.parentElement;)i=i.parentElement;let a=i.scrollWidth>i.clientWidth,s=i.scrollHeight>i.clientHeight,l=i.clientWidth/t,d=i.clientHeight/t,[c,u]=[];if(s?[c,u]=f([n,r],i):a&&([c,u]=h([n,r],i)),c){let t;switch(c){case"top":case"bottom":this.speed=d/(u+1)*e,t=u<d;break;case"left":case"right":this.speed=l/(u+1)*e,t=u<l}t?this.isActive?this.isActive&&this.lastScrollingElement!==i&&(this.deactivateScroll(i),this.__activateScroll(i,c,o)):(this.isActive=!0,this.__activateScroll(i,c,o)):this.isActive&&(this.isActive=!1,this.deactivateScroll(i))}},this.__activateScroll=function(e,t,n){e.style.scrollBehavior="auto",this.lastScrollingElement=e,this.interval=setInterval((()=>{switch(t){case"top":e.scrollBy(0,-this.speed);break;case"bottom":e.scrollBy(0,this.speed);break;case"left":e.scrollBy(-this.speed,0);break;case"right":e.scrollBy(this.speed,0)}}),10)},this.deactivateScroll=function(e){e&&(e.style.scrollBehavior=""),clearInterval(this.interval)}},Object.defineProperty(t,"initFunctionState",{enumerable:!0,get:function(){return i.initFunctionState}}),t.dndContext=void 0;var r=n(67811),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(69324));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}let a,s=window;for(;s!==window.parent;)s=window.parent;function l(e,t){let n=window.getComputedStyle(e),r={};return t.forEach((e=>{r[e]=parseInt(n[e])})),r}t.dndContext=a,s.dndContext?t.dndContext=a=s.dndContext:(t.dndContext=a=new i.default,s.dndContext=a);function d(e,t,n,r,i,o){var a,s,l=i-n,d=o-r,c=l*l+d*d,u=-1;0!=c&&(u=((e-n)*l+(t-r)*d)/c),u<0?(a=n,s=r):u>1?(a=i,s=o):(a=n+u*l,s=r+u*d);var h=e-a,f=t-s;return Math.sqrt(h*h+f*f)}let c=["left","top","right","bottom"];function u(e,t){let n,r=t.getBoundingClientRect(),i={p1:[r.top,r.left],p2:[r.bottom,r.left]},o={p1:[r.top,r.left],p2:[r.top,r.right]},a={p1:[r.top,r.right],p2:[r.bottom,r.right]},s={p1:[r.bottom,r.left],p2:[r.bottom,r.right]},l=[d(e[0],e[1],i.p1[1],i.p1[0],i.p2[1],i.p2[0]),d(e[0],e[1],o.p1[1],o.p1[0],o.p2[1],o.p2[0]),d(e[0],e[1],a.p1[1],a.p1[0],a.p2[1],a.p2[0]),d(e[0],e[1],s.p1[1],s.p1[0],s.p2[1],s.p2[0])],u=1/0;return l.forEach(((e,t)=>{e<u&&(u=e,n=c[t])})),[n,u]}function h(e,t){let n,r=t.getBoundingClientRect(),i={p1:[r.top,0],p2:[r.bottom,0]},o={p1:[r.top,t.clientWidth],p2:[r.bottom,t.clientWidth]},a=[d(e[0],e[1],i.p1[1],i.p1[0],i.p2[1],i.p2[0]),d(e[0],e[1],o.p1[1],o.p1[0],o.p2[1],o.p2[0])],s=1/0;return a.forEach(((e,t)=>{e<s&&(s=e,n=["left","right"][t])})),[n,s]}function f(e,t){let n,r=t.getBoundingClientRect(),i={p1:[0,r.left],p2:[0,r.right]},o={p1:[t.clientHeight,r.left],p2:[t.clientHeight,r.right]},a=[d(e[0],e[1],i.p1[1],i.p1[0],i.p2[1],i.p2[0]),d(e[0],e[1],o.p1[1],o.p1[0],o.p2[1],o.p2[0])],s=1/0;return a.forEach(((e,t)=>{e<s&&(s=e,n=["top","bottom"][t])})),[n,s]}},69324:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.map=new Map,this.checkInitFunction=function(e,t){for(let r of n)if(r.target.contains(e)){let n=r.onDnd(e,t);if(Array.isArray(n))return n}},this.getContext=function(e,t){do{if("true"==e.getAnyAttribute(t))return e;if(this.checkInitFunction(e,[t]))return e;e=e.parentElement}while(e)},this.getContexts=function(e,t){do{for(let n of t){if("true"==e.getAnyAttribute(n))return[e,n];{let n=this.checkInitFunction(e,t);if(Array.isArray(n)&&t.includes(n[1]))return n}}e=e.parentElement}while(e)},this.setContext=function(e,t,n){e.setHiddenAttribute(t,n)}},t.initFunctionState=void 0;let n=[];t.initFunctionState=n},10778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=new function(e){this.state=e,this.removeAttribute=(e,t)=>{this.state.has(e)&&delete this.state.get(e).attributes[t]},this.hasAttribute=(e,t)=>{if(this.state.has(e))return!!this.state.get(e).attributes[t]},this.getAttribute=(e,t)=>{if(this.state.has(e))return this.state.get(e).attributes[t]},this.setAttribute=(e,t,n)=>{this.state.has(e)?this.state.get(e).attributes[t]=n:this.state.set(e,{element:e,attributes:{[t]:n}})},this.getAllAttributes=e=>{if(this.state.has(e))return this.state.get(e).attributes},this.getDataset=e=>{let t={};for(let[n,r]of Object.entries(this.state.get(e).attributes))n.beginsWith("data-")&&(t[n.substr(5)]=r);return t}}(new Map);function r(e,t=n){let r=e.HTMLElement.prototype;if(r.setHiddenAttribute)return;let i=r.setAttribute;r.setAttribute=function(e,t){i.apply(this,[e,t])},r.setHiddenAttribute=function(e,n){t.setAttribute(this,e,n)},r.getHiddenAttribute=function(e){return t.getAttribute(this,e)},r.getAllHiddenAttribute=function(e){return t.getAllAttributes(this)},r.getAnyAttribute=function(e){return this.hasAttribute(e)?this.getAttribute(e):t.hasAttribute(this,e)?t.getAttribute(this,e):void 0},r.setAnyAttribute=function(e,n){this.setAttribute(e,n),t.setAttribute(this,e,n)},r.removeAnyAttribute=function(e){this.removeAnyAttribute(e),t.removeAttribute(this,e)},r.hasAnyAttribute=function(e,n){return this.hasAttribute(e)||t.hasAttribute(this,e)},r.hideAttribute=function(e){if(this.hasAttribute(e)){if(t.hasAttribute(this,e))return!1;t.setAttribute(this,e,this.getAttribute(e)),this.removeAttribute(e)}},r.unhideAttribute=function(e){if(t.hasAttribute(this,e)){if(this.hasAttribute(e))return!1;this.setAttribute(e,t.getAttribute(this,e)),t.removeAttribute(this,e)}}}window.domContext=n,function(){let e=Array.from(window.frames);e.unshift(window);for(let t of e)r(t.window)}();var i={register:r,domContext:n};t.default=i},12359:()=>{"use strict";window.addEventListener("load",(()=>{let e={host:{document,window},guests:{}};window.iframes=e;let t=document.getElementsByTagName("iframe"),n=1;for(let r of t){let t=r.id||"iframe"+n++;e.guests[t]={frame:r,document:r.contentDocument,window:r.contentWindow},r.contentWindow.iframes=e}new MutationObserver((function(t,r){for(let r of t)if("childList"===r.type)for(let t of r.addedNodes)if("IFRAME"===t.tagName){let r=t.id||"iframe"+n++;e.guests[r]={frame:t,document:t.contentDocument,window:t.contentWindow},t.contentWindow.iframes=e}})).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}))},18361:()=>{"use strict";let e=null,t=null;document.addEventListener("mousedown",(n=>{1===n.which&&(e=n.target,t=(new Date).getTime())})),document.addEventListener("mouseup",(n=>{let r=(new Date).getTime();if(e==n.target&&r<t+500){const e=new CustomEvent("CoCreateClickLeft",{bubbles:!0});n.target.dispatchEvent(e)}}))},67811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data_insert_html=t.group_name=t.dndname=t.handleable=t.hoverable=t.editable=t.selectable=t.cloneable=t.draggable=t.exclude=t.droppable=void 0;t.droppable="data-droppable";t.exclude="data-exclude";t.draggable="data-draggable";t.cloneable="data-cloneable";t.selectable="data-selectable";t.editable="data-editable";t.hoverable="data-hoverable";t.handleable="data-handle";t.dndname="data-name";t.group_name="data-group_name";t.data_insert_html="data-insert-html"},89757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.dragedEl,this.dropedEl,this.position,this.id,this.type;let t=new r.default;this.on=function(){t.on.apply(t,arguments)},this.dragStart=(e,n,r,i,o)=>{this.id=r,this.dropType=o,this.dragedEl=n,t.dispatch("dragStart",{e,el:n,ref:i})},this.dragEnd=(n,r)=>{try{if(this.dragedEl&&this.dragedEl.removeAttribute("CoC-dragging"),this.position){if(this.dropedEl===this.dragedEl)throw"dnd cancelled. you can't dnd on the same element.";if(this.dragedEl.contains(this.dropedEl))throw"dnd cancelled, you can't dnd from parent to its children.";let t,n=o.default.getElementPath(this.dropedEl),r={position:this.position,dragedEl:this.dragedEl,dropedEl:this.dropedEl,dropType:this.dropType,path:n};e&&(t=e(r)),Object.assign(r,t);const i=new CustomEvent("dndsuccess",{bubbles:!1,detail:r});r.dropedEl,r.position,r.dragedEl;this.dropedEl.insertAdjacentElement(this.position,this.dragedEl),window.dispatchEvent(i,{bubbles:!1})}}catch(n){}finally{this.type&&(this.position=null),t.dispatch("dragEnd",{e:n,ref:r})}},this.dragOver=(e,n,r)=>{if(this.dragedEl&&this.dragedEl.setAttribute("CoC-dragging",!0),0===n.children.length){let[o,a]=(0,i.closestChild)([e.x,e.y],[n]);t.dispatch("dragOver",{e,el:n,closestEl:a,orientation:o,hasChild:!0,ref:r}),this.position=s.includes(o)?"afterbegin":"beforeend",this.dropedEl=n,this.type="normal"}else{let[o,a]=(0,i.closestChild)([e.x,e.y],n.children);if("true"==a.getAttribute("data-exclude")){this.dropedEl=a.parentElement;let[t,n]=(0,i.closestChild)([e.x,e.y],[this.dropedEl]);o=t}else this.dropedEl=a;t.dispatch("dragOver",{e,el:n,closestEl:a,orientation:o,hasChild:!1,ref:r}),this.position=s.includes(o)?"beforebegin":"afterend",this.type="children"}}};var r=a(n(21594)),i=n(19024),o=(n(67811),a(n(20745)));function a(e){return e&&e.__esModule?e:{default:e}}let s=["left","top"]},70642:(e,t,n)=>{"use strict";n.r(t)}}]);
(this.webpackChunkCoCreate=this.webpackChunkCoCreate||[]).push([[753],{371:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});var n=o(4727);let l={};const r={init:function({selector:e,eventType:t,document:o,config:r,configKey:c}){let i,a,s,f=o.defaultView?o.defaultView.frameElement:o.ccdefaultView.frameElement;f?(s=f,i=f.contentWindow,a=i.document||i.contentDocument):(s=f.contentWindow.document.body,a=document,i=window);let u=document.querySelector(e);if(u){l[e]=u;let o=u.querySelector(":scope .toolbar"),f=u.querySelector(":scope [tagName]");o||(o={offsetHeight:0});let d,g={};function m(e){e||(d&&d.unobserve(g.lastElement),d=new ResizeObserver((()=>g.element&&m(!0))),d.observe(g.element)),(0,n.configExecuter)(g.element,c,((e,t,n)=>{if(n){let e=t[c];l[e]||(u=document.querySelector(e),l[e]=u,o=u.querySelector(":scope .toolbar"),f=u.querySelector(":scope [tagName]"))}let r=function(e){let{x:t,y:o}=e.getBoundingClientRect();return{left:t,top:o}}(e);u.style.display="block",u.style.top=s.offsetTop+r.top-i.scrollY-o.offsetHeight+"px",u.style.left=s.offsetLeft+r.left+i.scrollX+"px",u.style.width=e.offsetWidth+"px",u.style.height=e.offsetHeight+"px",e.offsetTop-o.offsetHeight<0?u.setAttribute("toolbar-overflow",""):u.removeAttribute("toolbar-overflow"),f&&f.innerHTML!==e.tagName&&(f.innerHTML=e.tagName,t.tagName&&t.tagName!==f.innerHTML&&(f.innerHTML=t.tagName))}),r)}window.cocreateToolbar=a,a.addEventListener(t,(e=>{g.lastElement=g.element,g.element=e.target,m()})),i.addEventListener("scroll",(()=>g.element&&m(g.element)))}}}}}]);